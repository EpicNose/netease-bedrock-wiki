---
front:
hard: 入门
time: 15分钟
---


# 数据库
## 介绍
Database模块，主要就是简化 SQL操作 使用DSL生成SQL并且获取返回值

## 组成部分
1. Host 数据库连接配置
2. Datasourse 数据库连接对象
3. Table 表对象
4. Query 查询操作

## 首先创建Host

1. 直接读取配置文件创建Host
```kotlin
config.getHost("database")
```
2. 配置文件对应内容
```yaml
database:
  host: 127.0.0.1
  port: 3306
  user: root 
  password: 123456
  database: fengxi666
```

## 创建表对象
如果你还不怎么可以熟练的使用SQL 那么我们不妨就把数据库理解为 Excel表格  
我们接下来就是要阐述这个表每列都是做什么的 用于创建表和管理表

> 代码来自 TabooLib [expansion-player-database](https://github.com/TabooLib/taboolib/tree/master/expansion/expansion-player-database)

```kotlin
   val tableVar = Table("table_name", host) {
        add { id() }
        add("user") {
            type(ColumnTypeSQL.VARCHAR, 36) {
                options(ColumnOptionSQL.KEY)
            }
        }
        add("key") {
            type(ColumnTypeSQL.VARCHAR, 64) {
                options(ColumnOptionSQL.KEY)
            }
        }
        add("value") {
            type(ColumnTypeSQL.VARCHAR, 128)
        }
    }
```